#include <stdio.h>
#include <string.h>

// Estructura para un jugador
typedef struct {
    char nombre[50];
    float estatura;

    int puntos;     // Nuevo campo: Puntos anotados
} Jugador;

// Esta funcion me ayuda a intercambiar el contenido de dos estructuras
void swap(Jugador* a, Jugador* b) {
    Jugador t = *a;
    *a = *b;
    *b = t;
}


int partition(Jugador arr[], int low, int high) {
    // El pivote se toma del primer elemento (arr[low])
    int pivot = arr[low].puntos;

    int left = low + 1;
    int right = high;

    while (left <= right) {

        // Avanza 'left' mientras el elemento sea mayor o igual al pivote (para ordenar de MAYOR a MENOR)
        while (left <= right && arr[left].puntos >= pivot)
            left++;

        // Avanza 'right' mientras el elemento sea menor al pivote (para ordenar de MAYOR a MENOR)
        while (left <= right && arr[right].puntos < pivot)
            right--;

        if (left < right)
            swap(&arr[left], &arr[right]);
    }

    // Coloca el pivote en su posici贸n final
    swap(&arr[low], &arr[right]);
    return right; // Retorna la posici贸n final del pivote
}

// Funci贸n QuickSort
void quickSort(Jugador arr[], int low, int high) {
    if (low < high) {
        int p = partition(arr, low, high);

        quickSort(arr, low, p - 1);
        // Ordena la parte izquierda (elementos >= pivote)
        quickSort(arr, p + 1, high);
        // Ordena la parte derecha (elementos < pivote)
    }
}


int main() {


    Jugador equipo[] = {
        {"Hugo", 1.98, 15}, {"Harper jr.", 1.95, 20}, {"Hauser", 2.05, 12},
        {"Tatum", 1.93, 45}, {"Garza", 2.01, 15}, {"Marr贸n", 1.88, 34},
        {"Boucher", 2.08, 18},  {"Minott", 1.85, 8},  {"Pritchard", 1.96, 25},
        {"Queta", 2.03, 14}, {"Shulga", 1.80, 5},   {"Simons", 1.99, 21},
        {"Scheierman", 1.92, 17},  {"Tillman", 2.00, 19},  {"Walsh", 1.89, 23}, {"Blanco", 1.93, 20}, {"Williams", 2.11, 17},
    };

    int n = sizeof(equipo) / sizeof(equipo[0]);

    printf(" Listado de los Boston Celtics (%d jugadores):\n", n);
    for (int i = 0; i < n; i++) {
        printf("%-10s: %.2f m, %d pts\n", equipo[i].nombre, equipo[i].estatura, equipo[i].puntos);
    }


    quickSort(equipo, 0, n - 1); // Ordena por puntos

    printf("\n--- Jugadores Ordenados por Puntos (Mayor a Menor) ---\n");
    for (int i = 0; i < n; i++) {
        printf("%2d. %-10s: %d pts (%.2f m)\n", i + 1, equipo[i].nombre, equipo[i].puntos, equipo[i].estatura);
    }


    // El listado de "En Cancha" ahora son los 5 con m谩s puntos
    printf("\n-------------------------------------------------\n");
    printf(" Los 5 Jugadores con M谩s Puntos (Para los Primeros Cuartos del Juego):\n");
    for (int i = 0; i < 5; i++) {
        printf("  %d. %-10s (%d pts)\n", i + 1, equipo[i].nombre, equipo[i].puntos);
    }

    printf("\n Los Siguientes 10 Jugadores (En Banca):\n");
    for (int i = 5; i < n; i++) {
        printf("  %d. %-10s (%d pts)\n", i + 1 - 5, equipo[i].nombre, equipo[i].puntos);
    }

    printf("-------------------------------------------------\n");


    printf(" No me repruebe Profe :'( ");
    return 0;
}
